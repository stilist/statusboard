%script{ :src => "//use.typekit.com/bsf4nfz.js" }

= javascript_script_tag "assets/zepto.min.js"

-# Backbone
= javascript_script_tag "assets/underscore-min.js"
= javascript_script_tag "assets/backbone.min.js"

= javascript_script_tag "assets/backbone-unbindingview.js"
= javascript_script_tag "assets/backbone-subset.js"

-# HTML5 Boilerplate
= javascript_script_tag "assets/modernizr-custom.js"

= javascript_script_tag "assets/handlebars-1.0.0.beta.6.js"

= javascript_script_tag "assets/application.js"

-# Initialize apps
- settings.apps.each do |app|
  = javascript_script_tag "assets/#{app}/core.js"

-# Foundation code
= javascript_script_tag "assets/boot.js"

:javascript
  // TODO Find a better way.
  Foursquare.State.api_key = "#{settings.foursquare_api_key}";
  Instagram.State.api_key = "#{settings.instagram_api_key}";
  try {Typekit.load();} catch (e) {}
